!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(e=e||self).VueFullScreenFileDrop=n()}(this,function(){"use strict";var e={name:"VueFullScreenFileDrop",props:{formFieldName:{type:String,default:"upload"},text:{type:String,default:"Upload Files"}},data:function(){return{visible:!1,lastTarget:null}},computed:{classes:function(){return{"vue-full-screen-file-drop--visible":this.visible}}},methods:{onDragEnter:function(e){this.lastTarget=e.target,this.visible=!0},onDragLeave:function(e){e.target===this.lastTarget&&(this.visible=!1)},onDragOver:function(e){e.preventDefault()},onDrop:function(e){e.preventDefault(),this.visible=!1;var n=e.dataTransfer.files,t=this.getFormData(n);this.$emit("drop",t,n)},getFormData:function(e){var n=this,t=new FormData;return Array.prototype.forEach.call(e,function(e){t.append(n.formFieldName,e,e.name)}),t}},mounted:function(){window.addEventListener("dragenter",this.onDragEnter),window.addEventListener("dragleave",this.onDragLeave),window.addEventListener("dragover",this.onDragOver),window.addEventListener("drop",this.onDrop)},beforeDestroy:function(){window.removeEventListener("dragenter",this.onDragEnter),window.removeEventListener("dragleave",this.onDragLeave),window.removeEventListener("dragover",this.onDragOver),window.removeEventListener("drop",this.onDrop)}};var l="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());var d=document.head||document.getElementsByTagName("head")[0],A={};var n=e;e.__file="/Users/christian/code/oss/vue-full-screen-file-drop/src/VueFullScreenFileDrop.vue";var t=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"vue-full-screen-file-drop",class:e.classes},[e._t("default",[t("div",{staticClass:"vue-full-screen-file-drop__content"},[e._v("\n      "+e._s(e.text)+"\n    ")])])],2)};t._withStripped=!0;return function(e,n,t,i,r,o,s,a,l,d){"function"==typeof s&&(l=a,a=s,s=!1);var A,f="function"==typeof t?t.options:t;if(e&&e.render&&(f.render=e.render,f.staticRenderFns=e.staticRenderFns,f._compiled=!0,r&&(f.functional=!0)),i&&(f._scopeId=i),o?(A=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),n&&n.call(this,l(e)),e&&e._registeredComponents&&e._registeredComponents.add(o)},f._ssrRegister=A):n&&(A=s?function(){n.call(this,d(this.$root.$options.shadowRoot))}:function(e){n.call(this,a(e))}),A)if(f.functional){var c=f.render;f.render=function(e,n){return A.call(n),c(e,n)}}else{var u=f.beforeCreate;f.beforeCreate=u?[].concat(u,A):[A]}return t}({render:t,staticRenderFns:[]},function(e){e&&e("data-v-c9270262_0",{source:'\n.vue-full-screen-file-drop {\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: 10000;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0,0,0,0.4);\n  visibility: hidden;\n  opacity: 0;\n  transition: visibility 200ms, opacity 200ms;\n}\n.vue-full-screen-file-drop--visible {\n  opacity: 1;\n  visibility: visible;\n}\n.vue-full-screen-file-drop__content {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n  color: #fff;\n  font-size: 4em;\n}\n.vue-full-screen-file-drop__content:before {\n  border: 5px dashed #fff;\n  content: "";\n  bottom: 60px;\n  left: 60px;\n  position: absolute;\n  right: 60px;\n  top: 60px;\n}\n',map:{version:3,sources:["/Users/christian/code/oss/vue-full-screen-file-drop/src/VueFullScreenFileDrop.vue"],names:[],mappings:";AAoFA;EACA,eAAA;EACA,MAAA;EACA,OAAA;EACA,cAAA;EACA,WAAA;EACA,YAAA;EACA,iCAAA;EACA,kBAAA;EACA,UAAA;EACA,2CAAA;AACA;AAEA;EACA,UAAA;EACA,mBAAA;AACA;AAEA;EACA,aAAA;EACA,uBAAA;EACA,mBAAA;EACA,WAAA;EACA,YAAA;EACA,WAAA;EACA,cAAA;AACA;AAEA;EACA,uBAAA;EACA,WAAA;EACA,YAAA;EACA,UAAA;EACA,kBAAA;EACA,WAAA;EACA,SAAA;AACA",file:"VueFullScreenFileDrop.vue",sourcesContent:["<template>\n  <div class='vue-full-screen-file-drop' :class='classes'>\n    <slot>\n      <div class='vue-full-screen-file-drop__content'>\n        {{ text }}\n      </div>\n    </slot>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'VueFullScreenFileDrop',\n  props: {\n    formFieldName: {\n      type: String,\n      default: 'upload',\n    },\n    text: {\n      type: String,\n      default: 'Upload Files',\n    },\n  },\n  data() {\n    return {\n      visible: false,\n      lastTarget: null,\n    };\n  },\n  computed: {\n    classes() {\n      return {\n        'vue-full-screen-file-drop--visible': this.visible,\n      };\n    },\n  },\n  methods: {\n    onDragEnter(e) {\n      this.lastTarget = e.target;\n      this.visible = true;\n    },\n    onDragLeave(e) {\n      if (e.target === this.lastTarget) {\n        this.visible = false;\n      }\n    },\n    onDragOver(e) {\n      e.preventDefault();\n    },\n    onDrop(e) {\n      e.preventDefault();\n      this.visible = false;\n\n      const files = e.dataTransfer.files;\n      const formData = this.getFormData(files);\n\n      this.$emit('drop', formData, files);\n    },\n    getFormData(files) {\n      const formData = new FormData();\n\n      Array.prototype.forEach.call(files, file => {\n        formData.append(this.formFieldName, file, file.name);\n      });\n\n      return formData;\n    },\n  },\n  mounted() {\n    window.addEventListener('dragenter', this.onDragEnter);\n    window.addEventListener('dragleave', this.onDragLeave);\n    window.addEventListener('dragover', this.onDragOver);\n    window.addEventListener('drop', this.onDrop);\n  },\n  beforeDestroy() {\n    window.removeEventListener('dragenter', this.onDragEnter);\n    window.removeEventListener('dragleave', this.onDragLeave);\n    window.removeEventListener('dragover', this.onDragOver);\n    window.removeEventListener('drop', this.onDrop);\n  },\n};\n<\/script>\n\n<style lang='css'>\n  .vue-full-screen-file-drop {\n    position: fixed;\n    top: 0;\n    left: 0;\n    z-index: 10000;\n    width: 100%;\n    height: 100%;\n    background-color: rgba(0,0,0,0.4);\n    visibility: hidden;\n    opacity: 0;\n    transition: visibility 200ms, opacity 200ms;\n  }\n\n  .vue-full-screen-file-drop--visible {\n    opacity: 1;\n    visibility: visible;\n  }\n\n  .vue-full-screen-file-drop__content {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n    height: 100%;\n    color: #fff;\n    font-size: 4em;\n  }\n\n  .vue-full-screen-file-drop__content:before {\n    border: 5px dashed #fff;\n    content: \"\";\n    bottom: 60px;\n    left: 60px;\n    position: absolute;\n    right: 60px;\n    top: 60px;\n  }\n</style>\n"]},media:void 0})},n,void 0,!1,void 0,function(e){return function(e,n){return function(e,n){var t=l?n.media||"default":e,i=A[t]||(A[t]={ids:new Set,styles:[]});if(!i.ids.has(e)){i.ids.add(e);var r=n.source;if(n.map&&(r+="\n/*# sourceURL="+n.map.sources[0]+" */",r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n.map))))+" */"),i.element||(i.element=document.createElement("style"),i.element.type="text/css",n.media&&i.element.setAttribute("media",n.media),d.appendChild(i.element)),"styleSheet"in i.element)i.styles.push(r),i.element.styleSheet.cssText=i.styles.filter(Boolean).join("\n");else{var o=i.ids.size-1,s=document.createTextNode(r),a=i.element.childNodes;a[o]&&i.element.removeChild(a[o]),a.length?i.element.insertBefore(s,a[o]):i.element.appendChild(s)}}}(e,n)}},void 0)});